{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nvar _marked = /*#__PURE__*/_regeneratorRuntime.mark(addAdidasWeb),\n    _marked2 = /*#__PURE__*/_regeneratorRuntime.mark(watchAddAdidasWeb),\n    _marked3 = /*#__PURE__*/_regeneratorRuntime.mark(removeCampaign),\n    _marked4 = /*#__PURE__*/_regeneratorRuntime.mark(watchRemoveName),\n    _marked5 = /*#__PURE__*/_regeneratorRuntime.mark(loadData),\n    _marked6 = /*#__PURE__*/_regeneratorRuntime.mark(watchLoadData),\n    _marked7 = /*#__PURE__*/_regeneratorRuntime.mark(renderCampaign),\n    _marked8 = /*#__PURE__*/_regeneratorRuntime.mark(watchRenderCampaign),\n    _marked9 = /*#__PURE__*/_regeneratorRuntime.mark(searchCampaign),\n    _marked10 = /*#__PURE__*/_regeneratorRuntime.mark(watchsearchCampaign),\n    _marked11 = /*#__PURE__*/_regeneratorRuntime.mark(downloadFile),\n    _marked12 = /*#__PURE__*/_regeneratorRuntime.mark(watchDownloadFile),\n    _marked13 = /*#__PURE__*/_regeneratorRuntime.mark(postSaga);\n\nimport { all, fork, takeLatest, put, call } from 'redux-saga/effects';\nimport axios from 'axios';\nimport { ADD_CAMPAIGN_REQUEST // 캠페인 이름 DB에서 저장\n, ADD_CAMPAIGN_SUCCESS, ADD_CAMPAIGN_FAILURE, REMOVE_CAMPAIGN_REQUEST // 캠페인 이름 DB에서 삭제\n, REMOVE_CAMPAIGN_SUCCESS, REMOVE_CAMPAIGN_FAILURE, LOAD_DATA_REQUEST // 카드 데이터 로드\n, LOAD_DATA_SUCCESS, LOAD_DATA_FAILURE, RENDER_CAMPAIGN_REQUEST // 캠페인 데이터 출력\n, RENDER_CAMPAIGN_SUCCESS, RENDER_CAMPAIGN_FAILURE, SEARCH_CAMPAIGN_REQUEST // 카드 데이터 색인\n, SEARCH_CAMPAIGN_SUCCESS, SEARCH_CAMPAIGN_FAILURE, DOWNLOAD_FILE_REQUEST // 다운로드 파일\n, DOWNLOAD_FILE_SUCCESS, DOWNLOAD_FILE_FAILURE // 액션 생성 함수\n} from '../reducers/post/actions';\n\nfunction addAdidasWebAPI(postData) {\n  return axios.post('/post/addcampaign', postData, {\n    withCredentials: true\n  });\n}\n\nfunction addAdidasWeb(action) {\n  var result;\n  return _regeneratorRuntime.wrap(function addAdidasWeb$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          _context.next = 3;\n          return call(addAdidasWebAPI, action.data);\n\n        case 3:\n          result = _context.sent;\n          _context.next = 6;\n          return put({\n            type: ADD_CAMPAIGN_SUCCESS,\n            data: result.data\n          });\n\n        case 6:\n          _context.next = 12;\n          break;\n\n        case 8:\n          _context.prev = 8;\n          _context.t0 = _context[\"catch\"](0);\n          _context.next = 12;\n          return put({\n            type: ADD_CAMPAIGN_FAILURE,\n            error: _context.t0\n          });\n\n        case 12:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _marked, null, [[0, 8]]);\n}\n\nfunction watchAddAdidasWeb() {\n  return _regeneratorRuntime.wrap(function watchAddAdidasWeb$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.next = 2;\n          return takeLatest(ADD_CAMPAIGN_REQUEST, addAdidasWeb);\n\n        case 2:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, _marked2);\n}\n\nfunction removeCampaignAPI(postData) {\n  return axios[\"delete\"](\"/post/\".concat(postData), {\n    withCredentials: true\n  });\n}\n\nfunction removeCampaign(action) {\n  var result;\n  return _regeneratorRuntime.wrap(function removeCampaign$(_context3) {\n    while (1) {\n      switch (_context3.prev = _context3.next) {\n        case 0:\n          _context3.prev = 0;\n          _context3.next = 3;\n          return call(removeCampaignAPI, action.data);\n\n        case 3:\n          result = _context3.sent;\n          _context3.next = 6;\n          return put({\n            type: REMOVE_CAMPAIGN_SUCCESS,\n            data: result.data\n          });\n\n        case 6:\n          _context3.next = 12;\n          break;\n\n        case 8:\n          _context3.prev = 8;\n          _context3.t0 = _context3[\"catch\"](0);\n          _context3.next = 12;\n          return put({\n            type: REMOVE_CAMPAIGN_FAILURE,\n            error: _context3.t0\n          });\n\n        case 12:\n        case \"end\":\n          return _context3.stop();\n      }\n    }\n  }, _marked3, null, [[0, 8]]);\n}\n\nfunction watchRemoveName() {\n  return _regeneratorRuntime.wrap(function watchRemoveName$(_context4) {\n    while (1) {\n      switch (_context4.prev = _context4.next) {\n        case 0:\n          _context4.next = 2;\n          return takeLatest(REMOVE_CAMPAIGN_REQUEST, removeCampaign);\n\n        case 2:\n        case \"end\":\n          return _context4.stop();\n      }\n    }\n  }, _marked4);\n}\n\nfunction loadDataAPI() {\n  return axios.post('/post/list', {\n    withCredentials: true\n  });\n}\n\nfunction loadData(action) {\n  var result;\n  return _regeneratorRuntime.wrap(function loadData$(_context5) {\n    while (1) {\n      switch (_context5.prev = _context5.next) {\n        case 0:\n          _context5.prev = 0;\n          _context5.next = 3;\n          return call(loadDataAPI);\n\n        case 3:\n          result = _context5.sent;\n          _context5.next = 6;\n          return put({\n            type: LOAD_DATA_SUCCESS,\n            data: result.data\n          });\n\n        case 6:\n          _context5.next = 12;\n          break;\n\n        case 8:\n          _context5.prev = 8;\n          _context5.t0 = _context5[\"catch\"](0);\n          _context5.next = 12;\n          return put({\n            type: LOAD_DATA_FAILURE,\n            error: _context5.t0\n          });\n\n        case 12:\n        case \"end\":\n          return _context5.stop();\n      }\n    }\n  }, _marked5, null, [[0, 8]]);\n}\n\nfunction watchLoadData() {\n  return _regeneratorRuntime.wrap(function watchLoadData$(_context6) {\n    while (1) {\n      switch (_context6.prev = _context6.next) {\n        case 0:\n          _context6.next = 2;\n          return takeLatest(LOAD_DATA_REQUEST, loadData);\n\n        case 2:\n        case \"end\":\n          return _context6.stop();\n      }\n    }\n  }, _marked6);\n}\n\nfunction renderCampaignAPI(postData) {\n  return axios.post('/post/campaign', postData, {\n    withCredentials: true\n  });\n}\n\nfunction renderCampaign(action) {\n  var result;\n  return _regeneratorRuntime.wrap(function renderCampaign$(_context7) {\n    while (1) {\n      switch (_context7.prev = _context7.next) {\n        case 0:\n          _context7.prev = 0;\n          _context7.next = 3;\n          return call(renderCampaignAPI, action.data);\n\n        case 3:\n          result = _context7.sent;\n          _context7.next = 6;\n          return put({\n            type: RENDER_CAMPAIGN_SUCCESS,\n            data: result.data\n          });\n\n        case 6:\n          _context7.next = 12;\n          break;\n\n        case 8:\n          _context7.prev = 8;\n          _context7.t0 = _context7[\"catch\"](0);\n          _context7.next = 12;\n          return put({\n            type: RENDER_CAMPAIGN_FAILURE,\n            error: _context7.t0\n          });\n\n        case 12:\n        case \"end\":\n          return _context7.stop();\n      }\n    }\n  }, _marked7, null, [[0, 8]]);\n}\n\nfunction watchRenderCampaign() {\n  return _regeneratorRuntime.wrap(function watchRenderCampaign$(_context8) {\n    while (1) {\n      switch (_context8.prev = _context8.next) {\n        case 0:\n          _context8.next = 2;\n          return takeLatest(RENDER_CAMPAIGN_REQUEST, renderCampaign);\n\n        case 2:\n        case \"end\":\n          return _context8.stop();\n      }\n    }\n  }, _marked8);\n}\n\nfunction searchCampaignAPI(search) {\n  return axios.get(\"/post/search/\".concat(encodeURIComponent(search)));\n}\n\nfunction searchCampaign(action) {\n  var result;\n  return _regeneratorRuntime.wrap(function searchCampaign$(_context9) {\n    while (1) {\n      switch (_context9.prev = _context9.next) {\n        case 0:\n          _context9.prev = 0;\n          _context9.next = 3;\n          return call(searchCampaignAPI, action.data);\n\n        case 3:\n          result = _context9.sent;\n          _context9.next = 6;\n          return put({\n            type: SEARCH_CAMPAIGN_SUCCESS,\n            data: result.data\n          });\n\n        case 6:\n          _context9.next = 12;\n          break;\n\n        case 8:\n          _context9.prev = 8;\n          _context9.t0 = _context9[\"catch\"](0);\n          _context9.next = 12;\n          return put({\n            type: SEARCH_CAMPAIGN_FAILURE,\n            error: _context9.t0\n          });\n\n        case 12:\n        case \"end\":\n          return _context9.stop();\n      }\n    }\n  }, _marked9, null, [[0, 8]]);\n}\n\nfunction watchsearchCampaign() {\n  return _regeneratorRuntime.wrap(function watchsearchCampaign$(_context10) {\n    while (1) {\n      switch (_context10.prev = _context10.next) {\n        case 0:\n          _context10.next = 2;\n          return takeLatest(SEARCH_CAMPAIGN_REQUEST, searchCampaign);\n\n        case 2:\n        case \"end\":\n          return _context10.stop();\n      }\n    }\n  }, _marked10);\n}\n\nfunction downloadFileAPI(file_name) {\n  return axios.get(\"/post/download/\".concat(encodeURIComponent(file_name)));\n}\n\nfunction downloadFile(action) {\n  var result;\n  return _regeneratorRuntime.wrap(function downloadFile$(_context11) {\n    while (1) {\n      switch (_context11.prev = _context11.next) {\n        case 0:\n          _context11.prev = 0;\n          _context11.next = 3;\n          return call(downloadFileAPI, action.data);\n\n        case 3:\n          result = _context11.sent;\n          _context11.next = 6;\n          return put({\n            type: DOWNLOAD_FILE_SUCCESS,\n            data: result.data\n          });\n\n        case 6:\n          _context11.next = 12;\n          break;\n\n        case 8:\n          _context11.prev = 8;\n          _context11.t0 = _context11[\"catch\"](0);\n          _context11.next = 12;\n          return put({\n            type: DOWNLOAD_FILE_FAILURE,\n            error: _context11.t0\n          });\n\n        case 12:\n        case \"end\":\n          return _context11.stop();\n      }\n    }\n  }, _marked11, null, [[0, 8]]);\n}\n\nfunction watchDownloadFile() {\n  return _regeneratorRuntime.wrap(function watchDownloadFile$(_context12) {\n    while (1) {\n      switch (_context12.prev = _context12.next) {\n        case 0:\n          _context12.next = 2;\n          return takeLatest(DOWNLOAD_FILE_REQUEST, downloadFile);\n\n        case 2:\n        case \"end\":\n          return _context12.stop();\n      }\n    }\n  }, _marked12);\n}\n\nexport default function postSaga() {\n  return _regeneratorRuntime.wrap(function postSaga$(_context13) {\n    while (1) {\n      switch (_context13.prev = _context13.next) {\n        case 0:\n          _context13.next = 2;\n          return all([fork(watchAddAdidasWeb), fork(watchLoadData), fork(watchRenderCampaign), fork(watchsearchCampaign), fork(watchRemoveName), fork(watchDownloadFile)]);\n\n        case 2:\n        case \"end\":\n          return _context13.stop();\n      }\n    }\n  }, _marked13);\n}","map":{"version":3,"sources":["C:/Users/Admins/Desktop/campaign-viewer/front/sagas/post.ts"],"names":["addAdidasWeb","watchAddAdidasWeb","removeCampaign","watchRemoveName","loadData","watchLoadData","renderCampaign","watchRenderCampaign","searchCampaign","watchsearchCampaign","downloadFile","watchDownloadFile","postSaga","all","fork","takeLatest","put","call","axios","ADD_CAMPAIGN_REQUEST","ADD_CAMPAIGN_SUCCESS","ADD_CAMPAIGN_FAILURE","REMOVE_CAMPAIGN_REQUEST","REMOVE_CAMPAIGN_SUCCESS","REMOVE_CAMPAIGN_FAILURE","LOAD_DATA_REQUEST","LOAD_DATA_SUCCESS","LOAD_DATA_FAILURE","RENDER_CAMPAIGN_REQUEST","RENDER_CAMPAIGN_SUCCESS","RENDER_CAMPAIGN_FAILURE","SEARCH_CAMPAIGN_REQUEST","SEARCH_CAMPAIGN_SUCCESS","SEARCH_CAMPAIGN_FAILURE","DOWNLOAD_FILE_REQUEST","DOWNLOAD_FILE_SUCCESS","DOWNLOAD_FILE_FAILURE","addAdidasWebAPI","postData","post","withCredentials","action","data","result","type","error","removeCampaignAPI","loadDataAPI","renderCampaignAPI","searchCampaignAPI","search","get","encodeURIComponent","downloadFileAPI","file_name"],"mappings":"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","sourcesContent":["import { all, fork, takeLatest, put, call, throttle, takeEvery }  from 'redux-saga/effects';\r\nimport axios from 'axios';\r\nimport {\r\n    ADD_CAMPAIGN_REQUEST, // 캠페인 이름 DB에서 저장\r\n    ADD_CAMPAIGN_SUCCESS, \r\n    ADD_CAMPAIGN_FAILURE, \r\n    REMOVE_CAMPAIGN_REQUEST, // 캠페인 이름 DB에서 삭제\r\n    REMOVE_CAMPAIGN_SUCCESS,\r\n    REMOVE_CAMPAIGN_FAILURE,\r\n    LOAD_DATA_REQUEST, // 카드 데이터 로드\r\n    LOAD_DATA_SUCCESS, \r\n    LOAD_DATA_FAILURE,\r\n    RENDER_CAMPAIGN_REQUEST, // 캠페인 데이터 출력\r\n    RENDER_CAMPAIGN_SUCCESS,\r\n    RENDER_CAMPAIGN_FAILURE,\r\n    SEARCH_CAMPAIGN_REQUEST, // 카드 데이터 색인\r\n    SEARCH_CAMPAIGN_SUCCESS,\r\n    SEARCH_CAMPAIGN_FAILURE,\r\n    DOWNLOAD_FILE_REQUEST, // 다운로드 파일\r\n    DOWNLOAD_FILE_SUCCESS,\r\n    DOWNLOAD_FILE_FAILURE,\r\n    // 액션 생성 함수\r\n    addCampaignRequestAction,\r\n    loadDataRequestAction,\r\n    renderCampaignRequestAction,\r\n    searchCampaignRequestAction,\r\n    removeCampaignRequestAction,\r\n    downloadFileRequestAction,\r\n} from '../reducers/post/actions';\r\n\r\nfunction addAdidasWebAPI( postData ) {\r\n    return axios.post('/post/addcampaign', postData, {\r\n        withCredentials: true,\r\n    })\r\n}\r\nfunction* addAdidasWeb( action: ReturnType<typeof addCampaignRequestAction> ) {\r\n    try {\r\n        const result = yield call(addAdidasWebAPI, action.data);\r\n        yield put({\r\n            type: ADD_CAMPAIGN_SUCCESS,\r\n            data: result.data,\r\n        })\r\n    } catch (e) {\r\n        yield put({\r\n            type: ADD_CAMPAIGN_FAILURE,\r\n            error: e,\r\n        });\r\n    }\r\n}\r\nfunction* watchAddAdidasWeb() {\r\n    yield takeLatest(ADD_CAMPAIGN_REQUEST, addAdidasWeb);\r\n}\r\nfunction removeCampaignAPI( postData ) {\r\n    return axios.delete(`/post/${postData}`, {\r\n        withCredentials: true,\r\n    })\r\n}\r\nfunction* removeCampaign( action: ReturnType<typeof removeCampaignRequestAction> ) {\r\n    try {\r\n        const result = yield call(removeCampaignAPI, action.data);\r\n        yield put({\r\n            type: REMOVE_CAMPAIGN_SUCCESS,\r\n            data: result.data,\r\n        })\r\n    } catch (e) {\r\n        yield put({\r\n            type: REMOVE_CAMPAIGN_FAILURE,\r\n            error: e,\r\n        });\r\n    }\r\n}\r\nfunction* watchRemoveName() {\r\n    yield takeLatest(REMOVE_CAMPAIGN_REQUEST, removeCampaign);\r\n}\r\nfunction loadDataAPI() {\r\n    return axios.post('/post/list', {\r\n        withCredentials: true,\r\n    })\r\n}\r\nfunction* loadData( action: ReturnType<typeof loadDataRequestAction> ) {\r\n    try {\r\n        const result = yield call(loadDataAPI);\r\n        yield put({\r\n            type: LOAD_DATA_SUCCESS,\r\n            data: result.data,\r\n        })\r\n    } catch (e) {\r\n        yield put({\r\n            type: LOAD_DATA_FAILURE,\r\n            error: e,\r\n        });\r\n    }\r\n}\r\nfunction* watchLoadData() {\r\n    yield takeLatest(LOAD_DATA_REQUEST, loadData);\r\n}\r\nfunction renderCampaignAPI( postData ) {\r\n    return axios.post('/post/campaign', postData, {\r\n        withCredentials: true,\r\n    })\r\n}\r\nfunction* renderCampaign( action: ReturnType<typeof renderCampaignRequestAction> ) {\r\n    try {\r\n        const result = yield call(renderCampaignAPI, action.data);\r\n        yield put({\r\n            type: RENDER_CAMPAIGN_SUCCESS,\r\n            data: result.data,\r\n        })\r\n    } catch (e) {\r\n        yield put({\r\n            type: RENDER_CAMPAIGN_FAILURE,\r\n            error: e,\r\n        });\r\n    }\r\n}\r\nfunction* watchRenderCampaign() {\r\n    yield takeLatest(RENDER_CAMPAIGN_REQUEST, renderCampaign);\r\n}\r\nfunction searchCampaignAPI( search ) {\r\n    return axios.get(`/post/search/${encodeURIComponent(search)}`)\r\n}\r\nfunction* searchCampaign( action: ReturnType<typeof searchCampaignRequestAction> ) {\r\n    try {\r\n        const result = yield call(searchCampaignAPI, action.data);\r\n        yield put({\r\n            type: SEARCH_CAMPAIGN_SUCCESS,\r\n            data: result.data,\r\n        })\r\n    } catch (e) {\r\n        yield put({\r\n            type: SEARCH_CAMPAIGN_FAILURE,\r\n            error: e,\r\n        });\r\n    }\r\n}\r\nfunction* watchsearchCampaign() {\r\n    yield takeLatest(SEARCH_CAMPAIGN_REQUEST, searchCampaign);\r\n}\r\nfunction downloadFileAPI( file_name ) {\r\n    return axios.get(`/post/download/${encodeURIComponent(file_name)}`)\r\n}\r\nfunction* downloadFile( action: ReturnType<typeof downloadFileRequestAction> ) {\r\n    try {\r\n        const result = yield call(downloadFileAPI, action.data);\r\n        yield put({\r\n            type: DOWNLOAD_FILE_SUCCESS,\r\n            data: result.data,\r\n        })\r\n    } catch (e) {\r\n        yield put({\r\n            type: DOWNLOAD_FILE_FAILURE,\r\n            error: e,\r\n        });\r\n    }\r\n}\r\nfunction* watchDownloadFile() {\r\n    yield takeLatest(DOWNLOAD_FILE_REQUEST, downloadFile);\r\n}\r\nexport default function* postSaga() {\r\n    yield all([\r\n        fork(watchAddAdidasWeb),\r\n        fork(watchLoadData),\r\n        fork(watchRenderCampaign),\r\n        fork(watchsearchCampaign),\r\n        fork(watchRemoveName),\r\n        fork(watchDownloadFile),\r\n    ]);\r\n}"]},"metadata":{},"sourceType":"module"}